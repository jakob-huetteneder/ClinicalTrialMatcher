
<div class="mt-3">
  <table class="table table-hover">
    <thead>
    <th class="col-md-3">First Name</th>
    <th class="col-md-3">Last Name</th>
    <th class="col-md-3">E-Mail</th>
    <th class="col-md-2">Status</th>
    <th class="col-md-1">Role</th>
    <th class="min-width">Actions</th>
    </thead>
    <tbody>
    <tr *ngFor="let user of users" class="center-td">
      <td *ngIf="!isEdited(user)">{{user.firstName}}</td>
      <td *ngIf="isEdited(user)"><input type="text" class="form-control-sm" [(ngModel)]="user.firstName" name="firstName"></td>

      <td *ngIf="!isEdited(user)">{{user.lastName}}</td>
      <td *ngIf="isEdited(user)"><input type="text" class="form-control-sm" [(ngModel)]="user.lastName" name="lastName"></td>

      <td *ngIf="!isEdited(user)">{{user.email}}</td>
      <td *ngIf="isEdited(user)"><input type="text" class="form-control-sm" [(ngModel)]="user.email" name="email"></td>

      <td *ngIf="!isEdited(user)">{{statusName(user.status)}}</td>
      <td *ngIf="isEdited(user)"><select name="status" class="form-select-sm" [(ngModel)]="user.status">
        <option value="ACTIVE">Active</option>
        <option value="SUSPENDED">Suspended</option>
      </select></td>

      <td>{{roleName(user.role)}}</td>

      <td>
        <div class="btn-group">

          <a class="btn btn-sm btn-outline-primary"
             (click)="editUser(user)"
             aria-label="Edit user"
             *ngIf="!isEdited(user)">
            <i class="bi bi-pencil"></i>
          </a>
          <a class="btn btn-sm btn-outline-danger"
             (click)="deleteUser(user)"
             aria-label="Delete user"
             *ngIf="!isEdited(user)">
            <i class="bi bi-trash3"></i>
          </a>
          <a class="btn btn-sm btn-success"
             (click)="confirmEditUser(user)"
             aria-label="Confirm changes"
             *ngIf="isEdited(user)">
            <i class="bi bi-check"></i>
          </a>
          <a class="btn btn-sm btn-secondary"
             (click)="discardEditUser(user)"
             aria-label="Discard changes"
             *ngIf="isEdited(user)">
            <i class="bi bi-x"></i>
          </a>
        </div>
      </td>
    </tr>
    </tbody>
  </table>
</div>
