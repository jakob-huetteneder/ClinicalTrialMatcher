<nav class="header bg-blue-100 shadow-md grid grid-cols-2 w-screen h-30">

  <img src="./assets/img/clinicalMatcher.svg" class="logo hover:cursor-pointer" routerLink="" alt="ClinicalMatcher">

  <div class="buttons text-blue-950 flex-row"><!--
    <div class="single-button">
      <a class="group relative dropdown cursor-pointer text-base tracking-wide pb-2">
        <div class="text-in-button">About This Site</div>
        <i class="bi-chevron-down w-4 text-blue-950"></i>
        <div class="absolute z-[1000] mt-2 hidden list-none overflow-hidden rounded-lg bg-white shadow-lg dark:bg-neutral-700 group-hover:block">
          <ul class="top-0 w-50 bg-white px-2 py-2">
            <li>
              <a
                class="block w-full whitespace-nowrap bg-transparent px-4 py-2 text-sm font-normal text-neutral-700 hover:bg-neutral-100 active:text-neutral-800 active:no-underline disabled:pointer-events-none disabled:bg-transparent disabled:text-neutral-400 dark:text-neutral-200 dark:hover:bg-neutral-600"
                href="#"
              >Action</a
              >
            </li>
            <li>
              <a
                class="block w-full whitespace-nowrap bg-transparent px-4 py-2 text-sm font-normal text-neutral-700 hover:bg-neutral-100 active:text-neutral-800 active:no-underline disabled:pointer-events-none disabled:bg-transparent disabled:text-neutral-400 dark:text-neutral-200 dark:hover:bg-neutral-600"
              >Another action</a
              >
            </li>
            <li>
              <a
                class="block w-full whitespace-nowrap bg-transparent px-4 py-2 text-sm font-normal text-neutral-700 hover:bg-neutral-100 active:text-neutral-800 active:no-underline disabled:pointer-events-none disabled:bg-transparent disabled:text-neutral-400 dark:text-neutral-200 dark:hover:bg-neutral-600"
                href="#"
              >Something else here</a
              >
            </li>
            <hr
              class="my-2 h-0 border border-t-0 border-solid border-neutral-700 opacity-25 dark:border-neutral-200" />
            <li>
              <a
                class="block w-full whitespace-nowrap bg-transparent px-4 py-0 text-sm font-normal text-neutral-700 hover:bg-neutral-100 active:text-neutral-800 active:no-underline disabled:pointer-events-none disabled:bg-transparent disabled:text-neutral-400 dark:text-neutral-200 dark:hover:bg-neutral-600"
                href="#"
              >Separated link</a
              >
            </li>
          </ul>
        </div>
      </a>
    </div>
    <div class="single-button">
      <a class="group relative dropdown cursor-pointer text-base tracking-wide pb-2">
        <div class="text-in-button">Data About Studies</div>
        <i class="bi-chevron-down w-4 text-blue-950"></i>
        <div class="absolute z-[1000] mt-2 hidden list-none overflow-hidden rounded-lg bg-white shadow-lg dark:bg-neutral-700 group-hover:block">
          <ul class="top-0 w-50 bg-white px-2 py-2">
            <li>
              <a
                class="block w-full whitespace-nowrap bg-transparent px-4 py-2 text-sm font-normal text-neutral-700 hover:bg-neutral-100 active:text-neutral-800 active:no-underline disabled:pointer-events-none disabled:bg-transparent disabled:text-neutral-400 dark:text-neutral-200 dark:hover:bg-neutral-600"
                href="#"
              >Action</a
              >
            </li>
            <li>
              <a
                class="block w-full whitespace-nowrap bg-transparent px-4 py-2 text-sm font-normal text-neutral-700 hover:bg-neutral-100 active:text-neutral-800 active:no-underline disabled:pointer-events-none disabled:bg-transparent disabled:text-neutral-400 dark:text-neutral-200 dark:hover:bg-neutral-600"
              >Another action</a
              >
            </li>
            <li>
              <a
                class="block w-full whitespace-nowrap bg-transparent px-4 py-2 text-sm font-normal text-neutral-700 hover:bg-neutral-100 active:text-neutral-800 active:no-underline disabled:pointer-events-none disabled:bg-transparent disabled:text-neutral-400 dark:text-neutral-200 dark:hover:bg-neutral-600"
                href="#"
              >Something else here</a
              >
            </li>
            <hr
              class="my-2 h-0 border border-t-0 border-solid border-neutral-700 opacity-25 dark:border-neutral-200" />
            <li>
              <a
                class="block w-full whitespace-nowrap bg-transparent px-4 py-0 text-sm font-normal text-neutral-700 hover:bg-neutral-100 active:text-neutral-800 active:no-underline disabled:pointer-events-none disabled:bg-transparent disabled:text-neutral-400 dark:text-neutral-200 dark:hover:bg-neutral-600"
                href="#"
              >Separated link</a
              >
            </li>
          </ul>
        </div>
      </a>
    </div>-->


    <!-- TRIAL LIST FUNCTIONS -->
    <div class="flex-initial single-button lg:mr-10 max-sm:invisible max-sm:hidden">
      <a class="group relative dropdown cursor-pointer tracking-wide pb-2 flex flex-row">
        <div class="text-in-button mt-1">View Trial Lists</div>
        <i class="bi-chevron-down w-4 text-blue-950"></i>
        <div
          class="absolute z-[1000] mt-4 hidden list-none overflow-hidden rounded-lg bg-white opacity-85 backdrop-blur-md shadow-md group-hover:block right-0">
          <ul class="w-auto px-3 py-2 mb-0">
            <form [formGroup]="trialListForm">
              <input class="flex items-center h-8 text-sm border-b border-black hover:bg-gray-200 focus:outline-none" formControlName="name" name="" id="" placeholder="Insert name for new List">
            </form>
            <li>
              <a
                class="block whitespace-nowrap bg-transparent no-underline py-2 text-sm font-normal text-blue-950 hover:bg-blue-400"
                (click)="createTrialList()"
              >+ Create new Trial List</a
              >
              <hr
                class="my-1 h-0 border border-t-0 border-solid border-blue-950 opacity-50"/>
            </li>
            <li *ngFor="let trialList of allLists" class="flex flex-row justify-between items-center gap-2">
              <a
                class="block whitespace-nowrap bg-transparent no-underline py-2 text-sm font-normal text-blue-950 hover:bg-blue-400"
                routerLink="/trial-list/{{trialList.id}}"
              >{{trialList.name}}</a>
              <app-confirm-button (confirm)="deleteTrialList(trialList)" details="Trial List will be lost permanently.">
                <a class="text-red-600 hover:text-red-900"
                   aria-label="Delete Trial List">
                  <i class="bi bi-trash"></i>
                </a>
              </app-confirm-button>
          </ul>
        </div>
      </a>
    </div>

    <!-- DOCTOR FUNCTIONS -->
    <div *ngIf="authService.getUserRole() === role.doctor" class="flex-initial single-button lg:mr-10 max-sm:invisible max-sm:hidden">
      <a class="group relative dropdown cursor-pointer tracking-wide pb-2 flex flex-row">
        <div class="text-in-button mt-1">Patient Menu</div>
        <i class="bi-chevron-down w-4 text-blue-950"></i>
        <div
          class="absolute z-[1000] mt-4 hidden list-none overflow-hidden rounded-lg bg-white opacity-85 backdrop-blur-md shadow-md group-hover:block right-0">
          <ul class="w-auto px-2 py-2 mb-0">
            <li>
              <a
                class="block whitespace-nowrap bg-transparent no-underline px-4 py-2 text-sm font-normal text-blue-950 hover:bg-blue-400"
                routerLink="/doctor/register-patient"
              >Register New Patient</a
              >
            </li>
            <li>
              <a
                routerLink="/doctor/request-patient"
                class="block whitespace-nowrap bg-transparent no-underline px-4 py-2 text-sm font-normal text-blue-950 hover:bg-blue-400"
              >Connect to patient</a
              >
            </li>
            <li>
              <a routerLink="/doctor/my-patients"
                class="block whitespace-nowrap bg-transparent no-underline px-4 py-2 text-sm font-normal text-blue-950 hover:bg-blue-400"
              >View My Patients</a
              >
            </li>
            <hr
              class="my-2 h-0 border border-t-0 border-solid border-blue-950 opacity-50"/>
            <li>
              <a
                class="block whitespace-nowrap bg-transparent no-underline px-4 py-2 text-sm font-normal text-blue-950 hover:bg-blue-400"
                href="#"
              >Browse Matching Trials</a
              >
            </li>
          </ul>
        </div>
      </a>
    </div>

    <!-- ADMIN FUNCTIONS -->
    <div *ngIf="authService.getUserRole() === role.admin" class="flex-initial single-button lg:mr-10 max-sm:invisible max-sm:hidden">
      <a class="group relative dropdown cursor-pointer tracking-wide pb-2 flex flex-row">
        <div class="text-in-button mt-1">Manage Users</div>
        <i class="bi-chevron-down w-4 text-blue-950"></i>
        <div
          class="absolute z-[1000] mt-4 hidden list-none overflow-hidden rounded-lg bg-white opacity-85 backdrop-blur-md shadow-md group-hover:block right-0">
          <ul class="w-auto px-2 py-2 mb-0">
            <li>
              <a
                class="block whitespace-nowrap bg-transparent no-underline px-4 py-2 text-sm font-normal text-blue-950 hover:bg-blue-400"
                routerLink="/admin/user-overview"
              >View all users</a
              >
            </li>
          </ul>
        </div>
      </a>
    </div>

    <!-- RESEARCHER FUNCTIONS -->
    <div *ngIf="authService.getUserRole() === role.researcher" class="flex-initial single-button lg:mr-10 max-sm:invisible max-sm:hidden">
      <a class="group relative dropdown cursor-pointer tracking-wide pb-2 flex flex-row">
        <div class="text-in-button mt-1">Manage Trials</div>
        <i class="bi-chevron-down w-4 text-blue-950"></i>
        <div
          class="absolute z-[1000] mt-4 hidden list-none overflow-hidden rounded-lg bg-white opacity-85 backdrop-blur-md shadow-md group-hover:block right-0">
          <ul class="w-auto px-2 py-2 mb-0">
            <li>
              <a
                class="block whitespace-nowrap bg-transparent no-underline px-4 py-2 text-sm font-normal text-blue-950 hover:bg-blue-400"
                routerLink="/researcher/requests"
              >View requests</a
              >
            </li>
            <li>
              <a
                class="block whitespace-nowrap bg-transparent no-underline px-4 py-2 text-sm font-normal text-blue-950 hover:bg-blue-400"
                routerLink="/researcher/trials"
              >View own trials</a
              >
            </li>
            <li>
              <a
                class="block whitespace-nowrap bg-transparent no-underline px-4 py-2 text-sm font-normal text-blue-950 hover:bg-blue-400"
                routerLink="/researcher/trials/create"
              >Create new trial</a
              >
            </li>
          </ul>
        </div>
      </a>
    </div>


    <!-- PATIENT FUNCTIONS -->
    <div *ngIf="authService.getUserRole() === role.patient" class="flex-initial single-button lg:mr-10 max-sm:invisible max-sm:hidden">
      <a class="group relative dropdown cursor-pointer tracking-wide pb-2 flex flex-row">
        <div class="text-in-button mt-1">Trials</div>
        <i class="bi-chevron-down w-4 text-blue-950"></i>
        <div
          class="absolute z-[1000] mt-4 hidden list-none overflow-hidden rounded-lg bg-white opacity-85 backdrop-blur-md shadow-md group-hover:block right-0">
          <ul class="w-auto px-2 py-2 mb-0">
            <li>
              <a
                routerLink="/patient/trial-registrations"
                class="block whitespace-nowrap bg-transparent no-underline px-4 py-2 text-sm font-normal text-blue-950 hover:bg-blue-400"
              >View registered trials</a
              >
            </li>
            <li>
              <a routerLink=""
                 class="block whitespace-nowrap bg-transparent no-underline px-4 py-2 text-sm font-normal text-blue-950 hover:bg-blue-400"
              >Browse trials</a
              >
            </li>
          </ul>
        </div>
      </a>
    </div>
    <div *ngIf="authService.getUserRole() === role.patient" class="flex-initial single-button lg:mr-10 max-sm:invisible max-sm:hidden">
      <a class="group relative dropdown cursor-pointer tracking-wide pb-2 flex flex-row">
        <div class="text-in-button mt-1">Assistance</div>
        <i class="bi-chevron-down w-4 text-blue-950"></i>
        <div
          class="absolute z-[1000] mt-4 hidden list-none overflow-hidden rounded-lg bg-white opacity-85 backdrop-blur-md shadow-md group-hover:block right-0">
          <ul class="w-auto px-2 py-2 mb-0">
            <li>
              <a
                routerLink="/patient/connections"
                class="block whitespace-nowrap bg-transparent no-underline px-4 py-2 text-sm font-normal text-blue-950 hover:bg-blue-400"
              >Connected Doctors</a
              >
            </li>
            <li>
              <a routerLink="/patient/requests"
                 class="block whitespace-nowrap bg-transparent no-underline px-4 py-2 text-sm font-normal text-blue-950 hover:bg-blue-400"
              >View Requests</a
              >
            </li>
          </ul>
        </div>
      </a>
    </div>

    <div class="flex-initial single-button">
      <button class="flex-initial bg-blue-300 rounded w-35 py-2 px-4 h-10 text-blue-900 font-bold border-blue-950 drop-shadow-sm"
              *ngIf="!authService.isLoggedIn()" routerLink="/account/login" routerLinkActive="active">Login
      </button>
      <div *ngIf="authService.isLoggedIn()" class="profile">
        <div class="single-button flex flex-initial">
          <div class="group relative dropdown px-0 cursor-pointer text-base tracking-wide right-0">
            <div class="profile flex flex-row"><img class="flex-initial mr-1" src="assets/img/UserIcon.svg" alt="profile"> <i class="mt-1 bi-chevron-down ml-2"></i></div>
            <div
              class="absolute z-[1000] float-left m-0 hidden min-w-max list-none overflow-hidden rounded-lg border-none bg-white bg-clip-padding text-left text-base shadow-lg dark:bg-neutral-700 group-hover:block right-0">
              <ul class="w-auto px-2 py-2 mb-0">
                <li>
                  <div
                    class="block w-full whitespace-nowrap bg-transparent px-4 py-2 text-sm font-normal text-neutral-700 no-underline"
                  >Signed in as <b>{{roleString}}</b></div>
                </li>
                <hr
                  class="my-1 h-0 border border-t-0 border-solid border-blue-950 opacity-50"/>
                <li>
                  <a
                    class="block w-full whitespace-nowrap bg-transparent px-4 py-2 text-sm font-normal text-neutral-700 no-underline"
                    routerLink="/account"
                  >Update Profile</a
                  >
                </li>
                <li>
                  <a
                    class="block w-full whitespace-nowrap bg-transparent px-4 py-2 text-sm font-normal text-neutral-700 no-underline"
                  >Saved Trials</a
                  >
                </li>
                <hr
                  class="my-2 h-0 border border-t-0 border-solid border-neutral-700 opacity-25 dark:border-neutral-200" />
                <li>
                  <app-confirm-button (confirm)="logout()" details="You will be logged out.">
                    <a
                    class="block fw-bold w-full whitespace-nowrap bg-transparent px-4 py-0 text-sm font-normal text-neutral-700 hover:bg-neutral-100 active:text-neutral-800 no-underline disabled:pointer-events-none disabled:bg-transparent disabled:text-neutral-400 dark:text-neutral-200 dark:hover:bg-neutral-600">
                      Logout</a>
                  </app-confirm-button>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</nav>
