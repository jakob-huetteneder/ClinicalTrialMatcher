<div class="whitebox flex justify-center container mt-5 text-blue-950 relative">
  <div class="fw-bold grid grid-cols-1 justify-items-center container mt-3 ml-3">
    <div class="text-2xl">Update Profile</div>
  </div>

  <hr class="container">

  <div class="container grid grid-cols-2">
    <div class="flex flex-row">
      <div class="flex flex-col flex-initial">
        <div class="fw-bold mb-3 mt-3 mr-1">
          <i class="bi bi-person-fill mr-1"></i>
          First Name:
        </div>
        <div class="fw-bold mb-3 mt-3">
          <i class="bi bi-envelope-at-fill mr-1"></i>
          E-Mail:
        </div>
        <div class="fw-bold mb-3 mt-3">
          <i class="bi bi-key-fill mr-1"></i>
          New Password:
        </div>
      </div>
      <div class="flex flex-col flex-1">
        <input type="text" class="ml-5 mr-5 h-10 mb-2 mt-2 inputfield border-0"
               [class]="dynamicCssClassesForInput(firstNameModel)"
               [(ngModel)]="user.firstName" #firstNameModel="ngModel"
        >
        <input type="text" class="ml-5 mr-5 h-10 mb-2 mt-2 inputfield border-0"
               [class]="dynamicCssClassesForInput(emailModel)"
               [(ngModel)]="user.email" #emailModel="ngModel"
        >
        <input type="text" class="ml-5 mr-5 h-10 mb-2 mt-2 inputfield border-0" placeholder="Enter your new password"
               [class]="dynamicCssClassesForInput(pwdModel)"
               [(ngModel)]="user.password" #pwdModel="ngModel"
        >
      </div>
    </div>

    <div class="flex flex-row">
      <div class="flex flex-col flex-initial">
        <div class="fw-bold mb-3 mt-3">
          <i class="bi bi-person-fill mr-1"></i>
          Last Name:
        </div>
        <div class="fw-bold mb-3 mt-3">
          <i class="bi bi-envelope-at-fill mr-1"></i>
          Repeat E-Mail:
        </div>
        <div class="fw-bold mb-3 mt-3">
          <i class="bi bi-key-fill mr-1"></i>
          Repeat Password:</div>
      </div>
      <div class="flex flex-col flex-1">
        <input type="text" class="ml-5 mr-5 h-10 mb-2 mt-2 inputfield border-0"
               [class]="dynamicCssClassesForInput(lastNameModel)"
               [(ngModel)]="user.lastName" #lastNameModel="ngModel"
        >
        <input type="text" class="ml-5 mr-5 h-10 mb-2 mt-2 inputfield border-0"
               [class]="dynamicCssClassesForInput(checkmailModel)"
               [(ngModel)]="checkmail" #checkmailModel="ngModel"
        >
        <input type="text" class="ml-5 mr-5 h-10 mb-2 mt-2 inputfield border-0" placeholder="Repeat your new password"
               [class]="dynamicCssClassesForInput(repeatModel)"
               [(ngModel)]="checkpwd" #repeatModel="ngModel"
        >
      </div>
    </div>

  </div>

  <div class="container grid">
    <div class="flex flex-row">
      <div class="flex flex-col flex-initial">
        <div class="fw-bold mb-3 mt-3 mr-1">
          <i class="bi bi-key mr-1"></i>
          Old Password:
        </div>
      </div>
      <div class="flex flex-col flex-1">
        <input type="text" class="ml-5 mr-5 h-10 mb-2 mt-2 inputfield border-0" placeholder="Enter your current password"
               [class]="dynamicCssClassesForInput(oldpwdModel)"
               [(ngModel)]="user.oldPassword" #oldpwdModel="ngModel"
               required
        >
        <div class="invalid-feedback">
          Old password is required
        </div>
      </div>
    </div>
  </div>

  <div class="container grid grid-cols-2">
    <div class="flex flex-row">
        <div class="flex flex-col flex-initial">
          <button class="transition ease-in-out delay-100 duration-300 bg-blue-500 hover:-translate-y-0 hover:scale-110 hover:bg-blue-400 rounded w-35 p-2 mt-2 h-10 text-white mr-5"
                  data-inline="true"
                  style="width:130px"
                  (click)="onSubmit()"
          >
            Update
          </button>
        </div>
        <div class="flex flex-col flex-initial">
          <button class="transition ease-in-out delay-100 duration-300 bg-slate-400 hover:-translate-y-0 hover:scale-110 hover:bg-slate-300 rounded w-35 p-2 mt-2 h-10 text-white mr-5"
                  data-inline="true"
                  style="width:130px"
                  [routerLink]="''"
          >
            Cancel
          </button>
        </div>
    </div>
    <div class="flex flex-row btn-holder mr-5">
      <button class="transition ease-in-out delay-100 duration-300 bg-red-500 hover:-translate-y-0 hover:scale-110 hover:bg-red-400 rounded w-35 p-2 mt-2 h-10 text-white"
              data-inline="true"
              style="width:130px"
              (click)="openForm()"
      >
        Delete Account
      </button>
    </div>
  </div>

  <!-- The form -->

  <div class="form-popup container" id="myForm">
    <form class="form-container">

        <h1 style="color: red; font-family: 'Roboto', sans-serif">Delete your Account?</h1>
        <div class="text-red-50">
          This action is permanent. After confirmation your data becomes irretrievable.
        </div>
        <div class="flex flex-row mt-2">
            <button class="transition ease-in-out delay-100 duration-300 bg-red-500 hover:-translate-y-0 hover:scale-110 hover:bg-red-400 rounded w-35 p-2 mt-2 h-10 text-white mr-3"
                    data-inline="true"
                    style="width:130px"
                    type="submit"
                    (click)="delete(user.id)"
            >
              Delete
            </button>
            <button class="transition ease-in-out delay-100 duration-300 bg-slate-400 hover:-translate-y-0 hover:scale-110 hover:bg-slate-300 rounded w-35 p-2 mt-2 h-10 text-white ml-3"
                    data-inline="true"
                    style="width:130px"
                    type="button"
                    (click)="closeForm()"
            >
              Cancel
            </button>
        </div>
    </form>
  </div>



</div>
